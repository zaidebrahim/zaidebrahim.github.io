(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){},function(t,e,c){"use strict";c.r(e);var n=c(0),i=c(1),a=c.n(i),s=c(8),r=c.n(s),o=(c(14),c.p,c(15),c(7)),d=c(3),j=c(2),u=(c(16),c(17),function(t){var e=t.id,c=t.brandName,a=t.productName,s=t.quantity,r=t.mrp,o=t.price,d=t.imageUrl,u=t.offerText,l=t.onAddCart,b=t.checkedOut;Object(i.useEffect)((function(){b&&m(0)}),[b]);var O=Object(i.useState)(0),h=Object(j.a)(O,2),f=h[0],m=h[1];return Object(n.jsxs)("div",{className:"product-container",children:[Object(n.jsxs)("div",{className:"left-container",children:[Object(n.jsx)("div",{className:"image-container",children:Object(n.jsx)("img",{className:"product-image",src:d,alt:c})}),Object(n.jsx)("div",{className:"offer-text",children:u})]}),Object(n.jsxs)("div",{className:"right-container",children:[Object(n.jsx)("div",{className:"brand-name",children:c}),Object(n.jsx)("div",{children:a}),0!==s?Object(n.jsxs)("div",{children:["Quantity: ",s]}):Object(n.jsx)("div",{children:"Item out of stock"}),Object(n.jsxs)("div",{children:["MRP: \u20b9 ",r]}),Object(n.jsxs)("div",{className:"price",children:["\u20b9 ",o]}),Object(n.jsxs)("div",{className:"bottom-container",children:[Object(n.jsx)("button",{onClick:function(){0!==s&&(0===f?(l(e,f+1,o),m(f+1)):(l(e,0,o),m(0)))},children:0!==f?"Remove":"Add Cart"}),Object(n.jsxs)("div",{className:"add-qty-container",children:[Object(n.jsx)("button",{onClick:function(){0!==f&&(l(e,f-1,o),m(f-1))},children:"-"}),Object(n.jsx)("div",{className:"qty",children:f}),Object(n.jsx)("button",{onClick:function(){f!==s&&(l(e,f+1,o),m(f+1))},children:"+"})]})]})]})]})}),l=(c(18),c(19),function(t){var e=t.showModal,c=t.price,i=t.setShowModal,a=t.setCheckedOut;return Object(n.jsx)("div",{className:"modal ".concat(!e&&"hide"),children:Object(n.jsxs)("div",{className:"modal-container",children:[Object(n.jsxs)("div",{className:"price",children:["Total price: \u20b9",parseFloat(c).toFixed(2)]}),Object(n.jsx)("div",{className:"success",children:"Transaction Successful.. :)"}),Object(n.jsx)("button",{onClick:function(){i(!1),a(!0)},children:"Done"})]})})}),b=function(t){var e=t.show,c=t.quantity,a=t.price,s=t.setCheckedOut,r=Object(i.useState)(!1),o=Object(j.a)(r,2),d=o[0],u=o[1];return Object(n.jsxs)("div",{className:"snackbar ".concat(!e&&"show"),children:[Object(n.jsxs)("div",{className:"snackbar-container",children:[Object(n.jsxs)("div",{className:"price-qty",children:[Object(n.jsxs)("div",{children:["Quantity : ",c]}),Object(n.jsxs)("div",{children:["Total Price: \u20b9 ",parseFloat(a).toFixed(2)]})]}),Object(n.jsx)("button",{onClick:function(){return u(!0)},children:"Checkout"})]}),Object(n.jsx)(l,{showModal:d,price:a,setShowModal:u,setCheckedOut:s})]})},O={price:0,quantity:0,cart:[]},h=function(t){var e=Object(i.useState)([]),c=Object(j.a)(e,2),a=c[0],s=c[1],r=Object(i.useState)(O),l=Object(j.a)(r,2),h=l[0],f=l[1],m=Object(i.useState)(!1),p=Object(j.a)(m,2),x=p[0],v=p[1],N=Object(i.useState)(!1),g=Object(j.a)(N,2),y=g[0],q=g[1];Object(i.useEffect)((function(){try{fetch("items.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){s(t.items)}),(function(t){console.log(t)}))}catch(t){console.log(t)}}),[]),Object(i.useEffect)((function(){y&&(k(),f(O),q(!1))}),[y]);var k=function(){var t=a.map((function(t){return h.cart.map((function(e){return t.id===e.item_id&&(t.quantity=t.quantity-e.quantity),e})),t}));s(t)};Object(i.useEffect)((function(){0!==h.cart.length?(v(!0),C()):v(!1)}),[h.cart,h.cart.length]);var C=function(){var t=0,e=0;h.cart.map((function(c){t+=c.quantity*c.price,e+=c.quantity})),f(Object(d.a)(Object(d.a)({},h),{},{price:t,quantity:e}))},S=function(t,e,c){if(h.cart&&h.cart.find((function(e){return e.item_id===t})))if(0===e)!function(t){for(var e=Object(o.a)(h.cart),c=0;c<e.length;c++)e[c].item_id==t&&e.splice(c,1);f(Object(d.a)(Object(d.a)({},h),{},{cart:e}))}(t);else{var n=h.cart.map((function(c){return c.item_id===t&&(c.quantity=e),c}));f(Object(d.a)(Object(d.a)({},h),{},{cart:n}))}else{var i={item_id:t,quantity:e,price:c};f(Object(d.a)(Object(d.a)({},h),{},{cart:[].concat(Object(o.a)(h.cart),[i])}))}};return Object(n.jsxs)("div",{className:"shopping-page",children:[Object(n.jsx)("div",{className:"shopping-container",children:0!==a.length&&a.map((function(t){return Object(n.jsx)(u,{id:t.id,brandName:t.brand_name,productName:t.product_name,quantity:t.quantity,mrp:t.mrp,price:t.price,imageUrl:t.image_url,offerText:t.offer_text,onAddCart:S,checkedOut:y},t.id)}))}),Object(n.jsx)(b,{show:x,quantity:h.quantity,price:h.price,setCheckedOut:q})]})};var f=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(h,{})})},m=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;c(t),n(t),i(t),a(t),s(t)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),m()}],[[20,1,2]]]);
//# sourceMappingURL=main.76fb1b55.chunk.js.map